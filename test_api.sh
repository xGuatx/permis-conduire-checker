#!/usr/bin/env bash

COOKIES='TCPID=125126031149453783446; cf_clearance=x1Ucat0AYIOr3ct05Dp12MYaeT7Yny1IedKC2rXh_RY-1768469756-1.2.1.1-QMzRCB7lY1dXy52Hc.1jA2iiNm3T3aVUmQtXLhGvQk0zBKaCiPjbkDLUTNTR00o8DEKQxzNJqtnwAcJwirnM0BMKasZ8bnAHo7b4e1GlYLPgDvwT9FjdafPQa0B5B7.PKrDk3m6TeruUNjCW0bT3iovlftXtsS_wGc8.sfbmwExv7Me.5hqZkO7iZLhj6J0.Cd_2ZDa.m.1HVJ812Emiv15s5YLMTma55aQjftCWcuU; mod_auth_openidc_session=eyJhbGciOiAiZGlyIiwgImVuYyI6ICJBMjU2R0NNIn0..URLvLcVs9LrGU9Bi.Z2CJHlhHzFcmBbq0bg0OJTEXere_paXkMupyhIpys0ATUHqxa8yIJM0_opP7QDyQ_U8k5-Utbmb3VUhA7jhMl5YbsMX526NXcy-fTZP76ykbJfY1f7oAhtpT38GIIug219OOWZA1SJzh6ZEAJrfVRH6AmDanciiCUzmdExMZILclDDvU5NOtXcdbIsgPKsuMA65Y_CNDUIqMd-lssHlHWqy1JgGlAZE5DWPEeSsobNHUmM6iHfaRGoNYRkBCZg9UyOTRS2tzl2Uh6MLWm5VJxYyG8kHtTOz10Sn8EEod7FPhttUM6Oc0I4y8NP6cTcWwPlItD3c4fWPbZrctdq4p8TbZXRQDWt_OpWx_T3xuGJzUcoTEOQctX1E0iJODH7WImGPhTEITsa9I5UQsCV6Y5pZ6rlM7KJE64uldvpHo20GTbuecaUZ5oZHSXMcaiL9mZjEd5ykas9A2vhn-dHIJ5HUhI9FPa1iyJfvfRJnt1mrVPYnmpt6nl5bR64YlX3Uhjz567H2Pe-1ZpsSoh8lkCWZfccSJw1cBvpwr8r_d5QRwXBs0uulLPAEPgcBOJZmnHZdvhg03PExcHgahMo3NO2lLJE0jROvFQEFPp-IspKxwTRkSTfzZ6kczF-IZFxf_BT2fq5JaWLlvd08B1AWaQfkqtk8-jBKQ6G4V3xoz_H2ee_F5e8nkNk_ODmGFgDUT447eGZoD0v6QzYraBSY4gwTU5rD49rIducG3CxvSkgYp8jIopDMCt5mDrFgYAil_yQxJKISKrLYyZD2gMLj0pj_U5Du1uprQiAi0IC6Jc-6-J3BiW5GmaEpu9yE7RHGqXPWPFGNS3aW1iyokaNeAll_bg3hy1Od7npnX3Y4EY9vYcNvk8FjuyrTArvpOFk2zqBcCCp2bLSnAAHxGCqJDdB_qqa1hgNS5y4uULHI40CkNOHSXM4gSKOn2EBmIIepyzjvpBDvF_1siRwV11B4wRoQUGyHPFsOiGRGJy-0RaozqrrFNnN1YEvtbJjpwY3OP6QE-bUQLrJCQhkIYJzO3tsumz5dEfVUcoh3DPHosL8sS_lL29wPGsZfjr01FGyJwD3UI9cFRtrfHkmENp1R-VH6gRtgng56ZO78cHpY-Ve_EL6DLhDijIpRx-MSW8wgKqF9oxnWN-PBUrzG_7XORdM9fczRoiUwfdZt-DH17XVB4TrUtFKZKRw5u8LJWbW-CttQz-vFHwUNvp3rc5emY3KRBOMmRfYs_FycbTtvRmo6_OlloI0IDOOe0j3SAbyYwf7uqfPLAsSK8rfy9Cfu9km1uhp5B0_3gs1qw51TkrajY77DwpfCuAFe2XkqdtYlzRE6KAFat4_U_Q9vLn4z4b0LKm4CxUpXMGpbB7mSyg0dNZvIBw03BI-zOc8XkZycDYoYX2Ox7rsRRA1FzM3jFzWo7alBdqtUTFTW_VjdvR8LKTbCXWX6xrShni6BsRFyD8LbFZdnaZC4sjPL-2RHNs7cCA7xkMiyBcAj3sgqseM5QvHDt5buvFBNlfb_HNnX25z-EEB1oy2rGM8Nqu4MCUp3ZTwh8SEkLV-6BeRO8nXFscgBJhtlyvrcENoEvXxWQnn5_c5i861DLZCZzr4IKPPkr-Sn04CggjnDSLHXQAC85_plM042dHnFTA9g_jqFbv_ea92wGTrSZIzRqGv8WtcoE69FoozICb_Zae3mHXyEzTVAsXQRju3kKKWq7-0ZOWK0lzQUxCNghHKsBU9CLZNQIlyZtoxRMXRZ2TjxyQKeiDnIu-LBAqhSycepnXMCMcK2Ua7a-4azVSYtPFa3CA0s8B-KkoYjzsdKigMZ-WoXKAE_2J_GhwBUenqhbudy3azExfMeXYYwxp__CQXwTxAGaOle26D7WbMrVJM9sgjH4fuiPccYiqi7gUSrrjNMEsUMruNtU5XNYnal0EEb1zM0pLrieyPRyoehCkr3KdJUv_K4wXxW8D95JuEImUv_uetKedTLFZamFgOv5dri1yTPXB9oBsfuQ_vqVrx_5XonTNABFC2P81Rm2aMFqP3aes49VotEKwkXZvo7fKFGM6EIurdlNfOqIcoP-KcYEtEcWcJlYSBIX1k6THKFlsdogSvCcxVsYAca_bh0ltveRRXiNz2bygskFYE4cNF3FhTmbexRQXrfTv-ciwQW5pCcELaYWHB3BZv-74ZoOSzBQmwGYoFuKmyT-5SKZaJFbRQrUxN14vlHVlEcEKAHEGuyOLRwVNjJbPWJ3e2f_O_r5uMALmzAkjD5pRKTG8XcfWOQyNYXI__8t-xnNxY3nBtoEmhlkXl2raMm4azkmMxY8tLpJGa3_nQGdNZNw-zYsddcIhB4yJxbt8XWLMt32YNk0e3vvexM2X6OXyxuKJVYfDDMK4xdatUDbZktgYYQJbiVdZpzLWKDvuqbe_81jOE7httCNVo3ZBHCAh6aKZOrFsTkjM-60Shpft4-mLoUvQYOfRUMJfzzMsgjIZ246dnT1TJgMp08oQCoa5-neMMa62csQvckPsaJatQrwG0TiIqJq0_KwgBEQV4F_leGl7qNsJ5ZbXZrCJ34_Wku-0EVU-9q22rSGg3eLmBlaJBPRn-KTSA2_qqTkeZdYOSoKxaPqkuoAyIrTNqbEiNSMOx9E3_zb5QzlYvumV_KnqSlCN9rnmAb3AZFE6JI2ul4Z3wLbvnLa8RN7iI7JRiYczQB0AZxyAFzQV00r8b8Tbf8fQxSMpI0wUGuZ2RHDO9Q5WDqQ9v28pwg8qCVXq9__KqGz2hHMAlwPo8CwmU9YalzeVPFDrrWyvhNpFCGITkpswLl3ykRzLeDsxsQmLh9-dZHfnOlRuqfS6kXGdqLr8eFvGK9q3IngbW77evpQmCliykTO2WgoWSCz4V6YzT5ZuGihN5zJ0A6IjqtAaqboqLNfEgVi4gemAkNAWcdtmvY3YsTsyxFphguic_24X0uxJuImKz-mjv55wVr0InJXQoXxuOED5yk-rxaXMWBeSA3Jbj1Zd2LEaVg78XLgf4sCc53YWRLBiDn4nJ6ZuGeHTvCs6SU1DAMHnzHBX6Yt_kUqypH7m3q7F-LR7vYaeNtLa_Dj2q_B4DohpE2jcY-xWJVQUT39lmFWgGD45tYUUGua4OgijLMGJDORDis6lKKqMNKdsnp6NDf1KD17J3KfBiRO2is__kb7TzUBvp8UG9ggODo6pLXTfoJdpMzgfdq_gLHSXql5YZ6rOzF6uR5ZdghwgvM13S076KuGp2TGeHxkQONw-2aZTxRknr1YUmINGRgkxdNDSj2q2xDmNK_SMbd87MSuR5egvmYDigl4PIY_Yjy5N62qM3897GwLKClAUHcAPxCImND6s4SW5yhlhuaKA_fvi7PrAHdVyYjkJ6_vhmw8yAqS4mpTS2bBhuy_Dt8Cttj5tWOFLpIgjdJ0hy-llLLwN_ktMUOQPdqDpC-T23nscYl6rj1BEsEVfKhrfxDnC0JFkdTeezo50GXj7hQzP13bEWyISdtl_oLW358K6ta3IKKjow125A.y4K70Je1XjHbAd9dzK_Whg; __cf_bm=JrKk1Bxww9U2BUTs2qCub21MmK5i4WuachEn27.SbEc-1768469822.8649921-1.0.1.1-fIgrW_thmI3InJ5vPUgb_4Q6kauiY_TVlQdGoF1ZfcVbEjNRUwjMVtGTgpq0Y0GH7Iuz0JksGNpb7MR4wgWwZ7zp5VnNi2njROV6bzZBdgZ07KmEnBH3CEX2K3hBI9st; etuix=5PHHYGPPWWs_Ip8KVLQVvu9Ebut9U1PNj.zDcmHMQnUjeM829JsxUw--'

echo "Test 1: Code 042"
curl -s "https://candidat.permisdeconduire.gouv.fr/api/v1/candidat/creneaux?code-departement=042" \
  -H "User-Agent: Mozilla/5.0" \
  -H "Accept: application/json" \
  -H "Referer: https://candidat.permisdeconduire.gouv.fr/reservation/recherche-creneaux" \
  -H "Cookie: $COOKIES"

echo -e "\n\nTest 2: Code 04201"
curl -s "https://candidat.permisdeconduire.gouv.fr/api/v1/candidat/creneaux?code-departement=04201" \
  -H "User-Agent: Mozilla/5.0" \
  -H "Accept: application/json" \
  -H "Referer: https://candidat.permisdeconduire.gouv.fr/reservation/recherche-creneaux" \
  -H "Cookie: $COOKIES"
